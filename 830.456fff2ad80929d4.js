"use strict";(self.webpackChunkboilerplate_angular=self.webpackChunkboilerplate_angular||[]).push([[830],{9830:(A,u,s)=>{s.r(u),s.d(u,{TransactionsModule:()=>v});var c=s(9808),p=s(520),e=s(2382),l=s(859),m=s(8661),t=s(1223),T=s(2630),f=s(7944);function g(n,i){if(1&n){const a=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(a);const r=t.oxw();return r.delete(r.transactionId)}),t._UZ(1,"i",28),t.qZA()}}let d=(()=>{class n{constructor(a,o,r,b,y,C){this.fb=a,this.transactions=o,this.route=r,this.router=b,this.toast=y,this.datePipe=C;const E=this.datePipe.transform(new Date,"yyyy-MM-dd");this.transactionForm=this.fb.group({id:[null],amount:[null,e.kI.required],description:["",e.kI.required],type:["sa\xedda",e.kI.required],date:[E,e.kI.required]}),this.bulkTransactions=this.fb.group({list:[]})}ngOnInit(){this.transactions.getTransactions().subscribe(a=>console.log(a)),this.transactionId=this.route.snapshot.params.id,this.transactionId&&this.loadTransaction(this.transactionId)}loadTransaction(a){this.transactions.getTransaction(a).subscribe({next:o=>{this.transactionForm.patchValue(Object.assign({},o))}})}salvarTransacao(){this.transactionForm.valid&&(this.transactionId?this.transactions.putTransaction(this.transactionForm.value).subscribe({next:()=>{this.toast.notify("Atualizada com sucesso!","success"),this.router.navigate(["/"])},error:()=>{this.toast.notify("Ops! N\xe3o foi poss\xedvel atualizar...","error")}}):this.transactions.postTransaction(this.transactionForm.value).subscribe({next:()=>{this.router.navigate(["/dashboard"]),this.toast.notify("A transa\xe7\xe3o foi salva com sucesso!","success")},error:()=>{this.toast.notify("N\xe3o foi poss\xedvel salvar a transa\xe7\xe3o...","error")}}))}delete(a){this.transactions.deleteTransaction(a).subscribe({next:()=>{this.router.navigate(["/dashboard"]),this.toast.notify("A transa\xe7\xe3o foi deletada com sucesso!","success")}})}cancel(){this.router.navigate(["/dashboard"])}salvarBulk(){console.log(JSON.parse(this.bulkTransactions.value.list)),this.transactions.postTransactions(JSON.parse(this.bulkTransactions.value.list)),this.router.navigate(["/dashboard"])}setType(a){this.transactionForm.patchValue({type:a})}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(e.qu),t.Y36(T.v),t.Y36(l.gz),t.Y36(l.F0),t.Y36(f.k),t.Y36(c.uU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-transaction-create-edit"]],decls:45,vars:3,consts:[[1,"container","mb-5","mt-5"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"new-transaction"],[3,"formGroup"],[1,"new-transaction__inputs"],["for","amount",1,"form-label"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","name","amount","id","amount","formControlName","amount","aria-label","Valor da transa\xe7\xe3o","placeholder","12",1,"form-control"],["for","description",1,"form-label"],["type","text","name","description","id","description","formControlName","description","placeholder","Descri\xe7\xe3o da transa\xe7\xe3o",1,"form-control"],["for","type",1,"form-label"],["type","text","aria-label","Tipo da transa\xe7\xe3o","formControlName","type","readonly","",1,"form-control"],[1,"input-group-append"],["type","button","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"dropdown-menu"],["value","entrada",1,"dropdown-item",3,"click"],["value","sa\xedda",1,"dropdown-item",3,"click"],["value","investido",1,"dropdown-item",3,"click"],["for","date",1,"form-label"],["type","date","name","date","id","date","formControlName","date",1,"form-control"],[1,"new-transaction__footer"],["class","btn btn-light","type","submit","title","deletar transa\xe7\xe3o",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary","ml-2",3,"click"],["type","submit","title","deletar transa\xe7\xe3o",1,"btn","btn-light",3,"click"],[1,"bi","bi-trash3"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"form",4),t.TgZ(5,"h3"),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div"),t.TgZ(9,"label",6),t._uU(10,"valor:"),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"div",8),t.TgZ(13,"span",9),t._uU(14,"R$"),t.qZA(),t.qZA(),t._UZ(15,"input",10),t.qZA(),t.qZA(),t.TgZ(16,"div"),t.TgZ(17,"label",11),t._uU(18,"descri\xe7\xe3o:"),t.qZA(),t._UZ(19,"input",12),t.qZA(),t.TgZ(20,"div"),t.TgZ(21,"label",13),t._uU(22,"tipo:"),t.qZA(),t.TgZ(23,"div",7),t._UZ(24,"input",14),t.TgZ(25,"div",15),t._UZ(26,"button",16),t.TgZ(27,"div",17),t.TgZ(28,"a",18),t.NdJ("click",function(){return o.setType("entrada")}),t._uU(29,"entrada"),t.qZA(),t.TgZ(30,"a",19),t.NdJ("click",function(){return o.setType("sa\xedda")}),t._uU(31,"sa\xedda"),t.qZA(),t.TgZ(32,"a",20),t.NdJ("click",function(){return o.setType("investido")}),t._uU(33,"investido"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div"),t.TgZ(35,"label",21),t._uU(36,"data:"),t.qZA(),t._UZ(37,"input",22),t.qZA(),t.qZA(),t.TgZ(38,"div",23),t.YNc(39,g,2,0,"button",24),t.TgZ(40,"div"),t.TgZ(41,"button",25),t.NdJ("click",function(){return o.cancel()}),t._uU(42," cancelar "),t.qZA(),t.TgZ(43,"button",26),t.NdJ("click",function(){return o.salvarTransacao()}),t._uU(44," salvar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.xp6(4),t.Q6J("formGroup",o.transactionForm),t.xp6(2),t.hij(" ",o.transactionId?"Editar transa\xe7\xe3o":"Novo registro de transa\xe7\xe3o"," "),t.xp6(33),t.Q6J("ngIf",o.transactionId))},directives:[e._Y,e.JL,e.sg,e.wV,e.Fj,e.JJ,e.u,c.O5],styles:[".new-transaction__inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1rem}.new-transaction__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}"]}),n})();const Z=l.Bz.forChild([{path:"",component:(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-transactions"]],decls:1,vars:0,template:function(a,o){1&a&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),n})(),children:[{path:"",component:d},{path:"editar/:id",component:d}]}]);let v=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[c.H9,c.uU],imports:[[c.ez,Z,e.UX,l.Bz,p.JF,m.m]]}),n})()}}]);