"use strict";(self.webpackChunkboilerplate_angular=self.webpackChunkboilerplate_angular||[]).push([[551],{3551:(x,d,i)=>{i.r(d),i.d(d,{TransactionsModule:()=>y});var r=i(9808),g=i(520),s=i(2382),l=i(1196),f=i(8661),t=i(1223),p=i(2630),m=i(7944);let Z=(()=>{class a{constructor(n,e,c,u,T,C){this.fb=n,this.transactions=e,this.route=c,this.router=u,this.toast=T,this.datePipe=C;const U=this.datePipe.transform(new Date,"yyyy-MM-dd");this.transactionForm=this.fb.group({id:[null],amount:[null,s.kI.required],description:["",s.kI.required],type:["sa\xedda",s.kI.required],date:[U,s.kI.required]}),this.bulkTransactions=this.fb.group({list:[]})}ngOnInit(){this.transactionId=this.route.snapshot.params.id,this.transactionId&&this.loadTransaction(this.transactionId)}loadTransaction(n){this.transactions.getTransaction(n).subscribe({next:e=>{this.transactionForm.patchValue(Object.assign({},e))}})}salvarTransacao(){this.transactionForm.valid&&(this.transactionId?this.transactions.putTransaction(this.transactionForm.value).subscribe({next:()=>{this.toast.notify("Atualizada com sucesso!","success"),this.router.navigate(["/transacoes"])},error:()=>{this.toast.notify("Ops! N\xe3o foi poss\xedvel atualizar...","error")}}):this.transactions.postTransaction(this.transactionForm.value).subscribe({next:()=>{this.router.navigate(["/transacoes"]),this.toast.notify("A transa\xe7\xe3o foi salva com sucesso!","success")},error:()=>{this.toast.notify("N\xe3o foi poss\xedvel salvar a transa\xe7\xe3o...","error")}}))}cancel(){this.router.navigate(["/transacoes"])}salvarBulk(){console.log(JSON.parse(this.bulkTransactions.value.list)),this.transactions.postTransactions(JSON.parse(this.bulkTransactions.value.list)),this.router.navigate(["/transacoes"])}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(s.qu),t.Y36(p.v),t.Y36(l.gz),t.Y36(l.F0),t.Y36(m.k),t.Y36(r.uU))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-transaction-create-edit"]],decls:35,vars:2,consts:[[1,"container","d-flex","justify-content-center"],[1,"new-transaction"],[3,"formGroup"],[1,"new-transaction__inputs"],["for","amount",1,"form-label"],["type","number","name","amount","id","amount","formControlName","amount",1,"form-control"],["for","description",1,"form-label"],["type","text","name","description","id","description","formControlName","description",1,"form-control"],["for","type",1,"form-label"],["name","type","formControlName","type",1,"form-select"],["value","entrada"],["value","sa\xedda","default",""],["value","investimento","default",""],["value","cart\xe3o","default",""],["for","date",1,"form-label"],["type","date","name","date","id","date","formControlName","date",1,"form-control"],[1,"new-transaction__footer"],["type","submit",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.TgZ(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div"),t.TgZ(7,"label",4),t._uU(8,"valor:"),t.qZA(),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"label",6),t._uU(12,"descri\xe7\xe3o:"),t.qZA(),t._UZ(13,"input",7),t.qZA(),t.TgZ(14,"div"),t.TgZ(15,"label",8),t._uU(16,"tipo:"),t.qZA(),t.TgZ(17,"select",9),t.TgZ(18,"option",10),t._uU(19,"entrada"),t.qZA(),t.TgZ(20,"option",11),t._uU(21,"sa\xedda"),t.qZA(),t.TgZ(22,"option",12),t._uU(23,"investimento"),t.qZA(),t.TgZ(24,"option",13),t._uU(25,"cart\xe3o"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div"),t.TgZ(27,"label",14),t._uU(28,"data:"),t.qZA(),t._UZ(29,"input",15),t.qZA(),t.qZA(),t.TgZ(30,"div",16),t.TgZ(31,"button",17),t.NdJ("click",function(){return e.cancel()}),t._uU(32," cancelar "),t.qZA(),t.TgZ(33,"button",18),t.NdJ("click",function(){return e.salvarTransacao()}),t._uU(34," salvar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("formGroup",e.transactionForm),t.xp6(2),t.hij(" ",e.transactionId?"editar transa\xe7\xe3o":"novo registro de transa\xe7\xe3o"," "))},directives:[s._Y,s.JL,s.sg,s.wV,s.Fj,s.JJ,s.u,s.EJ,s.YN,s.Kr],styles:[".new-transaction[_ngcontent-%COMP%]{margin:3rem;max-width:300px}.new-transaction__inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1rem}.new-transaction__footer[_ngcontent-%COMP%]{display:flex;gap:1rem}"]}),a})();const h=function(a){return["editar",a]};function _(a,o){if(1&a){const n=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td",10),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",8),t.TgZ(14,"button",11),t._UZ(15,"i",12),t.qZA(),t.TgZ(16,"button",13),t.NdJ("click",function(){const u=t.CHM(n).$implicit;return t.oxw(2).delete(u.id)}),t._UZ(17,"i",14),t.qZA(),t.qZA(),t.qZA()}if(2&a){const n=o.$implicit;t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(t.xi3(5,6,n.amount,"BRL")),t.xp6(3),t.hij(" ",n.description," "),t.xp6(2),t.Oqu(t.lcZ(10,9,n.date)),t.xp6(3),t.Oqu(n.type),t.xp6(2),t.Q6J("routerLink",t.VKq(11,h,n.id))}}function b(a,o){if(1&a&&(t.TgZ(0,"table",7),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"td"),t._uU(4,"id"),t.qZA(),t.TgZ(5,"td"),t._uU(6,"valor"),t.qZA(),t.TgZ(7,"td"),t._uU(8,"descri\xe7\xe3o"),t.qZA(),t.TgZ(9,"td"),t._uU(10,"data"),t.qZA(),t.TgZ(11,"td"),t._uU(12,"tipo"),t.qZA(),t.TgZ(13,"td",8),t._uU(14,"a\xe7\xf5es"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"tbody"),t.YNc(16,_,18,13,"tr",9),t.qZA(),t.qZA()),2&a){const n=t.oxw();t.xp6(16),t.Q6J("ngForOf",n.transactionsList)}}function v(a,o){1&a&&(t.TgZ(0,"p"),t._uU(1,"Ainda n\xe3o existem transa\xe7\xf5es..."),t.qZA())}const q=l.Bz.forChild([{path:"",component:(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-transactions"]],decls:1,vars:0,template:function(n,e){1&n&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),a})(),children:[{path:"",component:(()=>{class a{constructor(n,e,c){this.transactions=n,this.router=e,this.toast=c}ngOnInit(){this.getTransactionsList()}getTransactionsList(){this.transactions.listTransactions().subscribe({next:n=>{this.transactionsList=n.reverse()}})}delete(n){this.transactions.deleteTransaction(n).subscribe({next:()=>{this.toast.notify("Transa\xe7\xe3o exclu\xedda com sucesso...","success"),this.getTransactionsList()},error:()=>{this.toast.notify("N\xe3o foi poss\xedvel deletar a transa\xe7\xe3o...","error")}})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(p.v),t.Y36(l.F0),t.Y36(m.k))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-transactions-list"]],decls:11,vars:2,consts:[[1,"container"],[1,"list-transactions"],[1,"list-transactions__header"],["routerLink","nova-transacao",1,"btn","btn-primary","list-transactions__button"],[1,"bi","bi-plus-circle-dotted"],["class","table",4,"ngIf","ngIfElse"],["erro",""],[1,"table"],[1,"list-transactions__actions"],[4,"ngFor","ngForOf"],[1,"list-transactions__description"],["type","button","title","editar transa\xe7\xe3o",1,"btn","btn-link",3,"routerLink"],[1,"bi","bi-pencil"],["type","button","title","deletar transa\xe7\xe3o",1,"btn","btn-link",3,"click"],[1,"bi","bi-trash"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h1"),t._uU(4,"lista de transa\xe7\xf5es"),t.qZA(),t.TgZ(5,"button",3),t._UZ(6,"i",4),t._uU(7," nova transa\xe7\xe3o "),t.qZA(),t.qZA(),t.YNc(8,b,17,1,"table",5),t.qZA(),t.YNc(9,v,2,0,"ng-template",null,6,t.W1O),t.qZA()),2&n){const c=t.MAs(10);t.xp6(8),t.Q6J("ngIf",0!==e.transactionsList.length)("ngIfElse",c)}},directives:[l.rH,r.O5,r.sg],pipes:[r.H9,r.uU],styles:[".list-transactions[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:3rem}.list-transactions__button[_ngcontent-%COMP%]{padding:1rem 2rem}.list-transactions__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:2rem}.list-transactions__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;height:100%}.list-transactions__description[_ngcontent-%COMP%]{font-style:italic}"]}),a})()},{path:"editar/:id",component:Z},{path:"nova-transacao",component:Z}]}]);let y=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[r.H9,r.uU],imports:[[r.ez,q,s.UX,l.Bz,g.JF,f.m]]}),a})()}}]);