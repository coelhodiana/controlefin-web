"use strict";(self.webpackChunkboilerplate_angular=self.webpackChunkboilerplate_angular||[]).push([[830],{9830:(A,u,s)=>{s.r(u),s.d(u,{TransactionsModule:()=>Z});var c=s(9808),m=s(520),a=s(2382),i=s(1196),p=s(8661),t=s(1223),f=s(2630),T=s(7944);let d=(()=>{class n{constructor(o,e,l,g,y,b){this.fb=o,this.transactions=e,this.route=l,this.router=g,this.toast=y,this.datePipe=b;const C=this.datePipe.transform(new Date,"yyyy-MM-dd");this.transactionForm=this.fb.group({id:[null],amount:[null,a.kI.required],description:["",a.kI.required],type:["sa\xedda",a.kI.required],date:[C,a.kI.required]}),this.bulkTransactions=this.fb.group({list:[]})}ngOnInit(){this.transactionId=this.route.snapshot.params.id,this.transactionId&&this.loadTransaction(this.transactionId)}loadTransaction(o){this.transactions.getTransaction(o).subscribe({next:e=>{this.transactionForm.patchValue(Object.assign({},e))}})}salvarTransacao(){this.transactionForm.valid&&(this.transactionId?this.transactions.putTransaction(this.transactionForm.value).subscribe({next:()=>{this.toast.notify("Atualizada com sucesso!","success"),this.router.navigate(["/"])},error:()=>{this.toast.notify("Ops! N\xe3o foi poss\xedvel atualizar...","error")}}):this.transactions.postTransaction(this.transactionForm.value).subscribe({next:()=>{this.router.navigate(["/"]),this.toast.notify("A transa\xe7\xe3o foi salva com sucesso!","success")},error:()=>{this.toast.notify("N\xe3o foi poss\xedvel salvar a transa\xe7\xe3o...","error")}}))}cancel(){this.router.navigate(["/"])}salvarBulk(){console.log(JSON.parse(this.bulkTransactions.value.list)),this.transactions.postTransactions(JSON.parse(this.bulkTransactions.value.list)),this.router.navigate(["/"])}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(a.qu),t.Y36(f.v),t.Y36(i.gz),t.Y36(i.F0),t.Y36(T.k),t.Y36(c.uU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-transaction-create-edit"]],decls:35,vars:2,consts:[[1,"container","d-flex","justify-content-center"],[1,"new-transaction"],[3,"formGroup"],[1,"new-transaction__inputs"],["for","amount",1,"form-label"],["type","number","name","amount","id","amount","formControlName","amount",1,"form-control"],["for","description",1,"form-label"],["type","text","name","description","id","description","formControlName","description",1,"form-control"],["for","type",1,"form-label"],["name","type","formControlName","type",1,"form-select"],["value","entrada"],["value","sa\xedda","default",""],["value","investimento","default",""],["value","cart\xe3o","default",""],["for","date",1,"form-label"],["type","date","name","date","id","date","formControlName","date",1,"form-control"],[1,"new-transaction__footer"],["type","submit",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.TgZ(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div"),t.TgZ(7,"label",4),t._uU(8,"valor:"),t.qZA(),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"label",6),t._uU(12,"descri\xe7\xe3o:"),t.qZA(),t._UZ(13,"input",7),t.qZA(),t.TgZ(14,"div"),t.TgZ(15,"label",8),t._uU(16,"tipo:"),t.qZA(),t.TgZ(17,"select",9),t.TgZ(18,"option",10),t._uU(19,"entrada"),t.qZA(),t.TgZ(20,"option",11),t._uU(21,"sa\xedda"),t.qZA(),t.TgZ(22,"option",12),t._uU(23,"investimento"),t.qZA(),t.TgZ(24,"option",13),t._uU(25,"cart\xe3o"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div"),t.TgZ(27,"label",14),t._uU(28,"data:"),t.qZA(),t._UZ(29,"input",15),t.qZA(),t.qZA(),t.TgZ(30,"div",16),t.TgZ(31,"button",17),t.NdJ("click",function(){return e.cancel()}),t._uU(32," cancelar "),t.qZA(),t.TgZ(33,"button",18),t.NdJ("click",function(){return e.salvarTransacao()}),t._uU(34," salvar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("formGroup",e.transactionForm),t.xp6(2),t.hij(" ",e.transactionId?"editar transa\xe7\xe3o":"novo registro de transa\xe7\xe3o"," "))},directives:[a._Y,a.JL,a.sg,a.wV,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr],styles:[".new-transaction[_ngcontent-%COMP%]{margin:3rem;max-width:300px}.new-transaction__inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1rem}.new-transaction__footer[_ngcontent-%COMP%]{display:flex;gap:1rem}"]}),n})();const v=i.Bz.forChild([{path:"",component:(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-transactions"]],decls:1,vars:0,template:function(o,e){1&o&&t._UZ(0,"router-outlet")},directives:[i.lC],styles:[""]}),n})(),children:[{path:"",component:d},{path:"editar/:id",component:d}]}]);let Z=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[c.H9,c.uU],imports:[[c.ez,v,a.UX,i.Bz,m.JF,p.m]]}),n})()}}]);