"use strict";(self.webpackChunkboilerplate_angular=self.webpackChunkboilerplate_angular||[]).push([[830],{9830:(A,u,i)=>{i.r(u),i.d(u,{TransactionsModule:()=>v});var c=i(9808),p=i(520),e=i(2382),l=i(1196),m=i(8661),t=i(1223),T=i(2630),f=i(7944);function Z(n,r){if(1&n){const a=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(a);const s=t.oxw();return s.delete(s.transactionId)}),t._UZ(1,"i",27),t.qZA()}}let d=(()=>{class n{constructor(a,o,s,b,y,C){this.fb=a,this.transactions=o,this.route=s,this.router=b,this.toast=y,this.datePipe=C;const _=this.datePipe.transform(new Date,"yyyy-MM-dd");this.transactionForm=this.fb.group({id:[null],amount:[null,e.kI.required],description:["",e.kI.required],type:["sa\xedda",e.kI.required],date:[_,e.kI.required]}),this.bulkTransactions=this.fb.group({list:[]})}ngOnInit(){this.transactionId=this.route.snapshot.params.id,this.transactionId&&this.loadTransaction(this.transactionId)}loadTransaction(a){this.transactions.getTransaction(a).subscribe({next:o=>{this.transactionForm.patchValue(Object.assign({},o))}})}salvarTransacao(){this.transactionForm.valid&&(this.transactionId?this.transactions.putTransaction(this.transactionForm.value).subscribe({next:()=>{this.toast.notify("Atualizada com sucesso!","success"),this.router.navigate(["/"])},error:()=>{this.toast.notify("Ops! N\xe3o foi poss\xedvel atualizar...","error")}}):this.transactions.postTransaction(this.transactionForm.value).subscribe({next:()=>{this.router.navigate(["/"]),this.toast.notify("A transa\xe7\xe3o foi salva com sucesso!","success")},error:()=>{this.toast.notify("N\xe3o foi poss\xedvel salvar a transa\xe7\xe3o...","error")}}))}delete(a){this.transactions.deleteTransaction(a).subscribe({next:()=>{this.router.navigate(["/"]),this.toast.notify("A transa\xe7\xe3o foi deletada com sucesso!","success")}})}cancel(){this.router.navigate(["/"])}salvarBulk(){console.log(JSON.parse(this.bulkTransactions.value.list)),this.transactions.postTransactions(JSON.parse(this.bulkTransactions.value.list)),this.router.navigate(["/"])}setType(a){this.transactionForm.patchValue({type:a})}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(e.qu),t.Y36(T.v),t.Y36(l.gz),t.Y36(l.F0),t.Y36(f.k),t.Y36(c.uU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-transaction-create-edit"]],decls:43,vars:3,consts:[[1,"container","mb-5","mt-5"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"new-transaction"],[3,"formGroup"],[1,"new-transaction__inputs"],["for","amount",1,"form-label"],["type","number","name","amount","id","amount","formControlName","amount",1,"form-control"],["for","description",1,"form-label"],["type","text","name","description","id","description","formControlName","description",1,"form-control"],["for","type",1,"form-label"],[1,"input-group"],["type","text","aria-label","Tipo da transa\xe7\xe3o","formControlName","type","readonly","",1,"form-control"],[1,"input-group-append"],["type","button","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"dropdown-menu"],["value","entrada",1,"dropdown-item",3,"click"],["value","sa\xedda",1,"dropdown-item",3,"click"],["value","investimento",1,"dropdown-item",3,"click"],["value","cart\xe3o",1,"dropdown-item",3,"click"],["for","date",1,"form-label"],["type","date","name","date","id","date","formControlName","date",1,"form-control"],[1,"new-transaction__footer"],["class","btn btn-light","type","submit","title","deletar transa\xe7\xe3o",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary","ml-2",3,"click"],["type","submit","title","deletar transa\xe7\xe3o",1,"btn","btn-light",3,"click"],[1,"bi","bi-trash3"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"form",4),t.TgZ(5,"h3"),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div"),t.TgZ(9,"label",6),t._uU(10,"valor:"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"div"),t.TgZ(13,"label",8),t._uU(14,"descri\xe7\xe3o:"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"div"),t.TgZ(17,"label",10),t._uU(18,"tipo:"),t.qZA(),t.TgZ(19,"div",11),t._UZ(20,"input",12),t.TgZ(21,"div",13),t._UZ(22,"button",14),t.TgZ(23,"div",15),t.TgZ(24,"a",16),t.NdJ("click",function(){return o.setType("entrada")}),t._uU(25,"entrada"),t.qZA(),t.TgZ(26,"a",17),t.NdJ("click",function(){return o.setType("sa\xedda")}),t._uU(27,"sa\xedda"),t.qZA(),t.TgZ(28,"a",18),t.NdJ("click",function(){return o.setType("investimento")}),t._uU(29,"investimento"),t.qZA(),t.TgZ(30,"a",19),t.NdJ("click",function(){return o.setType("cart\xe3o")}),t._uU(31,"cart\xe3o"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div"),t.TgZ(33,"label",20),t._uU(34,"data:"),t.qZA(),t._UZ(35,"input",21),t.qZA(),t.qZA(),t.TgZ(36,"div",22),t.YNc(37,Z,2,0,"button",23),t.TgZ(38,"div"),t.TgZ(39,"button",24),t.NdJ("click",function(){return o.cancel()}),t._uU(40," cancelar "),t.qZA(),t.TgZ(41,"button",25),t.NdJ("click",function(){return o.salvarTransacao()}),t._uU(42," salvar "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.xp6(4),t.Q6J("formGroup",o.transactionForm),t.xp6(2),t.hij(" ",o.transactionId?"editar transa\xe7\xe3o":"novo registro de transa\xe7\xe3o"," "),t.xp6(31),t.Q6J("ngIf",o.transactionId))},directives:[e._Y,e.JL,e.sg,e.wV,e.Fj,e.JJ,e.u,c.O5],styles:[".new-transaction__inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1rem}.new-transaction__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}"]}),n})();const h=l.Bz.forChild([{path:"",component:(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-transactions"]],decls:1,vars:0,template:function(a,o){1&a&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),n})(),children:[{path:"",component:d},{path:"editar/:id",component:d}]}]);let v=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[c.H9,c.uU],imports:[[c.ez,h,e.UX,l.Bz,p.JF,m.m]]}),n})()}}]);